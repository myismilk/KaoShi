<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD MApper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wangkaiping.dao.QuestionDao">
    <sql id="AllColumn">
        question_id,qt.type_name question_type,question_topic,question_A,question_B,question_C,question_D,answer,parsing,create_time,edit_time,m.manage_name create_by
    </sql>
    
    <select id="getQuestionById" parameterType="java.lang.Integer" resultType="com.wangkaiping.domain.Question">
        select
        <include refid="AllColumn"/>
        from tbl_question q
        join
        tbl_questiontype qt
        on
        q.question_type=qt.type_id
        join tbl_manage m
        on q.create_by=m.manage_id
        where question_id=#{questionId}
    </select>
    <select id="getAllScQuestion" resultType="com.wangkaiping.domain.Question">
        select
        <include refid="AllColumn"/>
        from tbl_question q
        join
        tbl_questiontype qt
        on
        q.question_type=qt.type_id
        join tbl_manage m
        on q.create_by=m.manage_id
        where question_type=1
    </select>
</mapper>